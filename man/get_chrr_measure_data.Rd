% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_chrr_measure_data.R
\name{get_chrr_measure_data}
\alias{get_chrr_measure_data}
\title{Retrieve County Health Rankings & Roadmaps measure data from GitHub}
\usage{
get_chrr_measure_data(
  geography = c("county", "state", "national"),
  measure,
  release_year
)
}
\arguments{
\item{geography}{A string specifying the level of geography to return.
Options are:
\itemize{
\item \code{"county"} – returns all county-level estimates.
\item \code{"state"} – returns all state-level estimates (excluding national).
\item \code{"national"} – returns only national-level estimates (\code{state_fips == "00"}).
}}

\item{measure}{Either:
\itemize{
\item A numeric \code{measure_id} (e.g., \code{21}, \code{85}, etc.), or
\item A character string matching a \code{measure_name}
(case-insensitive).
}
Use the \code{list_chrr_measures()} function to print all available
\code{measure_id}s and \code{measure_name}s for a given release year.}

\item{release_year}{A numeric year corresponding to a CHR&R release year folder.
Must match one of the year-specific subfolders available in the GitHub
repository.}
}
\value{
A tibble containing filtered CHRR data for the requested geography, measure,
and release year. Typical columns include:
\code{state_fips}, \code{county_fips}, \code{measure_id},
\code{measure_name}, \code{release_year}, and \code{value}.
}
\description{
Downloads and filters County Health Rankings & Roadmaps (CHR&R) data directly
from the measure calculations GitHub repository
(\url{https://github.com/County-Health-Rankings-and-Roadmaps/chrr_measure_calcs}).
Users provide the measure ID, geography type, and release year as inputs.
The function returns data for the specified measure across the specified geography
for the given release year. It mimics the style and behavior of
\code{tidycensus::get_decennial()}.
}
\details{
The function first reads the measure-year index (\code{t_measure_years.csv}) to
identify available measures for the specified year, then automatically retrieves
the correct data file:
\itemize{
\item For \code{geography = "county"}, data are pulled from
\code{t_measure_data_years_[YEAR].csv}.
\item For \code{geography = "state"} or \code{"national"}, data are pulled from
\code{t_state_data_years_[YEAR].csv}.
}

For national data, rows where \code{state_fips == "00"} are retained.
For state-level data, rows where \code{state_fips != "00"} are retained.
}
\examples{
\dontrun{
# Get county-level data for measure 21 (high school graduation) in 2023
county_data <- get_chrr_measure_data(
                  geography = "county",
                  measure = 21,
                  release_year = 2023)

# Get state-level data for "Insufficient Sleep" in 2022
state_data <- get_chrr_measure_data(
                  geography = "state",
                  measure = "insufficient sleep",
                  release_year = 2022)

# Get national-level data for "Uninsured" in 2024
nat_data <- get_chrr_measure_data(
                  geography = "national",
                  measure = "uninsured",
                  release_year = 2024)
}

}
